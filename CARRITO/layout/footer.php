<div class="coupons">
    <div class="container">
        <div class="coupons-grids text-center">
            <div class="col-md-3 coupons-gd">
                <h3><b>COMPRA TU PRODUCTO DE FORMA SENCILLA</b></h3>
            </div>
            <div class="col-md-3 coupons-gd">
                <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                <h4><b>INGRESE A SU CUENTA</b></h4>

            </div>
            <div class="col-md-3 coupons-gd">
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                <h4><b>SELECCIONA TU ARTÍCULO</b></h4>

            </div>
            <div class="col-md-3 coupons-gd">
                <span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span>
                <h4><b>HACER EL PAGO</b></h4>

            </div>
            <div class="clearfix"> </div>
        </div>
    </div>
</div>
<!-- footer -->
<div class="footer">
    <div class="container">
        <div class="col-md-3 footer-left">
            <h2><a href="index.html"><img width="150px" height="150px" src="images/don_gato.jpg" alt=" " /></a></h2>
            <p>Reviviremos el momento de reestrenar tu auto, consigue con nosotros la espectacular limpieza para tu auto, trabajamos con esfuerzo, espuma y corazón, no solo rapidez y servicio, dejamos impecable tu auto, un vehículo lavado en la mañana puede cambiar el resto de tu día.</p>
        </div>
        <div class="col-md-9 footer-right">
            <div class="col-sm-6 newsleft">
                <h3>¡Datos de la empresa!</h3>
            </div>

            <div class="clearfix"></div>
            <div class="sign-grds">
                <div class="col-md-4 sign-gd">
                    <h4>Información</h4>
                    <ul>
                        <li><a>Produtos</a></li>
                        <li><a>Ofertas</a></li>
                        <li><a>Servicios</a></li>
                        <li><a>Metodo de pago</a></li>
                        <li><a>Mantenimiento</a></li>
                        <li><a>Local</a></li>
                    </ul>
                </div>

                <div class="col-md-4 sign-gd-two">
                    <h4>Almacenar información</h4>
                    <ul>
                        <li><i class="glyphicon glyphicon-map-marker" aria-hidden="true"></i>Direccion: Avenida Cristóbal Colón & Ernesto Albuja Aspiazu, <span>Milagro.</span></li>
                        <li><i class="glyphicon glyphicon-envelope" aria-hidden="true"></i>Email: don_gato@hotmail.com
                        <li><i class="glyphicon glyphicon-earphone" aria-hidden="true"></i>Telefono: 0987654321</li>
                    </ul>
                </div>

                <div class="clearfix"></div>
            </div>
        </div>
        <div class="clearfix"></div>

        <iframe style="width: 100%; height: 300px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3987.036313869182!2d-79.60430488594076!3d-2.139761537754411!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x902d47a88be6cbf9%3A0xd30f7be60d6993c5!2sAvenida%20Crist%C3%B3bal%20Col%C3%B3n%20%26%20Ernesto%20Albuja%20Aspiazu%2C%20Milagro!5e0!3m2!1ses!2sec!4v1657895847178!5m2!1ses!2sec" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

        <p style="text-align: center;"><b>&copy 2022 Todos los derechos reservados</b></a></p>
    </div>
</div>
<!-- //footer -->
<!-- login -->
<div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content modal-info">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body modal-spa">

                <div class="horizontal-tab">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#tab1" data-toggle="tab" aria-expanded="false">Login</a></li>
                        <li class=""><a href="#tab2" data-toggle="tab" aria-expanded="false">Registro</a></li>
                        <li><a style="background: green; color: white;" href="../LOGIN/">Admin</a></li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane active in" id="tab1">
                            <div class="row">
                                <div class="col-md-12">

                                    <h4 style="text-align: center;"><B>INICIAR SESIÓN</B></h4>


                                    <div style="    text-align: center;
													background: #ff000094;
													padding: 10px;
													color: white; display:none;" id="none_usu">
                                        <span><b> Ingrese un email para continuar</b></span>
                                    </div>



                                    <div style="    text-align: center;
													background: #ff000094;
													padding: 10px;
													color: white; display:none;" id="none_pass">
                                        <span><b> Ingrese su C.I. para continuar</b></span>
                                    </div>

                                    <div style="    text-align: center;
                                        background: #ff000094;
                                        padding: 10px;
                                        color: white; display:none;" id="error_logeo">
                                        <span> <b>Usuario o contraseña incorrectos</b></span>
                                    </div>

                                    <div class="login-grids">

                                        <br>

                                        <div class="login">
                                            <div class="login-bottom">

                                                <div class="sign-up">
                                                    <h4>Email :</h4>
                                                    <input type="text" style="color: black;" placeholder="Ingrese su email" id="login_email">
                                                </div>

                                                <div class="sign-in">
                                                    <button class="btn btn-danger" id="login_ingreso_cli"> Ingresar</button>
                                                </div>

                                            </div>
                                            <div class="login-right">

                                                <div class="sign-in">
                                                    <h4>C.I :</h4>
                                                    <input type="password" style="color: black;" placeholder="Ingrese su C.I." id="login_ci">
                                                    <!-- <button class="btn btn-info"><i class="fa fa-eye"></i>Ver</button> -->
                                                </div>

                                            </div>


                                            <div class="clearfix"></div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="tab2">
                            <div class="row">

                                <div class="col-md-12">
                                    <h4 style="text-align: center;"><B>Registrar cliente</B></h4>

                                    <br>

                                    <div style="text-align: center;
                                        background: #5cb85c;
                                        padding: 10px;
                                        color: white; display: none;" id="exito_lol">
                                        <span> <b>Cliente registrado con exito</b></span>
                                    </div>

                                    <br>

                                </div>

                                <br> <br>

                                <div class="col-lg-6">
                                    <label for="nombre_cliente">Nombres</label> &nbsp;&nbsp; <label style="color:red;" id="nombre_obliga"></label>
                                    <input type="text" class="form-control" id="nombre_cliente" placeholder="Ingrese nombres del cliente" onkeypress="return soloLetras(event)"><br>
                                </div>

                                <div class="col-lg-6">
                                    <label for="apellidos">Apellidos</label> &nbsp;&nbsp; <label style="color:red;" id="app_pat_obliga"></label>
                                    <input type="text" class="form-control" id="apellidos" placeholder="Ingrese apellido paterno" onkeypress="return soloLetras(event)"><br>
                                </div>

                                <div class="col-lg-6">
                                    <label for="direccion_domicilio">Direccion</label> &nbsp;&nbsp; <label style="color:red;" id="direccion_obliga"></label>
                                    <input type="text" class="form-control" id="direccion_domicilio" placeholder="Ingrese direccion de domicilio"><br>
                                </div>

                                <div class="col-lg-6">
                                    <label for="numero_telefonoo">Numero de telefono</label> &nbsp;&nbsp; <label style="color:red;" id="telefono_obliga"></label>
                                    <input type="text" maxlength="10" class="form-control" id="numero_telefonoo" placeholder="Numero de telefono" onkeypress="return soloNumeros(event)"><br>
                                </div>

                                <div class="col-lg-6">
                                    <label for="correo_cliente">Correo electronico</label> &nbsp;&nbsp; <label style="color:red;" id="correo_obliga"></label>
                                    <input type="email" class="form-control" id="correo_cliente" placeholder="Ingrese un correo electronico">
                                    <label for="" id="email_correcto" style="color: red;"></label><br>
                                </div>

                                <div class="col-lg-6">
                                    <label for="numero_documento">Numero de documento C.I.</label> &nbsp;&nbsp; <label style="color:red;" id="numero_doc_obliga"></label>
                                    <input type="text" maxlength="10" class="form-control" id="numero_documento" placeholder="Ingrese numero de documento" onkeypress="return soloNumeros(event)">
                                    <label for="" id="cedula_cliente" style="color: red; font-size: 12px;"></label><br>
                                </div>

                                <div class="col-lg-5">
                                    <label for="fecha_nacimiento">Fecha nacimiento</label> &nbsp;&nbsp; <label style="color:red;" id="fecha_obliga"></label>
                                    <input type="date" class="form-control" id="fecha_nacimiento"><br>
                                </div>

                                <div class="col-lg-4">
                                    <label for="sexo">Sexo</label>
                                    <select class="form-control" id="sexo" style="width:100%">
                                        <option value="Masculino">Masculino</option>
                                        <option value="Femenino">Femenino</option>
                                    </select>
                                </div>

                                <br>

                                <div class="col-lg-12" style="text-align: center">
                                    <button type="button" class="btn btn-success" onclick="registrar_cliente_cliente()"><i class="fa fa-save"></i> Registrar</button>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

            </div>

        </div>
    </div>
</div>
<!-- //login -->
</body>

</html>

<script src="../ADMIN/js/carrito.js" type="text/javascript"></script>
<script src="../ADMIN/plugins/js/sweetalert2/sweetalert2.all.min.js" type="text/javascript"></script>
<!-- <script src="../ADMIN/plugins/SELECT2/js/select2.min.js" type="text/javascript"></script> -->
<script>
    $(document).ready(function() {
        pagination(1);
        pagination_ofertas(1);
        mostrar_tu_carrito();
    });

    /////////////
    function registrar_cliente_cliente() {
        var nombre = $("#nombre_cliente").val();
        var apellidos = $("#apellidos").val();
        var direccion = $("#direccion_domicilio").val();
        var telefonoo = $("#numero_telefonoo").val();
        var correo = $("#correo_cliente").val();
        var fecha = $("#fecha_nacimiento").val();
        var sexo = $("#sexo").val();
        var numero_documento = $("#numero_documento").val();

        if (
            nombre.length == 0 ||
            apellidos.length == 0 ||
            direccion.length == 0 ||
            telefonoo.length == 0 ||
            correo.length == 0 ||
            numero_documento.length == 0 ||
            fecha.length == 0
        ) {
            validar_registro_cliente(
                nombre,
                apellidos,
                direccion,
                telefonoo,
                correo,
                numero_documento,
                fecha
            );
            return swal.fire(
                "Campo vacios",
                "Debe ingresar todos los datos en los campos, no deben quedar campos vacios",
                "warning"
            );
        } else {
            $("#nombre_obliga").html("");
            $("#app_pat_obliga").html("");
            $("#direccion_obliga").html("");
            $("#telefono_obliga").html("");
            $("#correo_obliga").html("");
            $("#numero_doc_obliga").html("");
            $("#fecha_obliga").html("");
        }

        funcion = "registrar_cliente";

        // alerta = [
        //     "datos",
        //     "Se esta creando el cliente, por favor espere....",
        //     ".:Creando cliente:.",
        // ];
        // mostar_loader_datos(alerta);

        $.ajax({
            url: "../ADMIN/controlador/servicio/servicio.php",
            type: "POST",
            data: {
                funcion: funcion,
                nombre,
                apellidos,
                direccion,
                telefonoo,
                correo,
                numero_documento,
                fecha,
                sexo,
            },
        }).done(function(response) {
            if (response > 0) {
                if (response == 1) {
                    alerta = [
                        "",
                        "",
                        "",
                    ];
                    cerrar_loader_datos(alerta);
                    
                    $("#exito_lol").show(2000);

                    $("#nombre_cliente").val("");
                    $("#apellidos").val("");
                    $("#direccion_domicilio").val("");
                    $("#numero_telefonoo").val("");
                    $("#fecha_nacimiento").val("");

                } else if (response == 2) {
                    alerta = [
                        "existe",
                        "warning",
                        "El correo " + correo + " ya se encuentra registrado :(",
                    ];
                    cerrar_loader_datos(alerta);
                } else if (response == 4) {
                    alerta = [
                        "existe",
                        "warning",
                        "Los nombres del cliente '" +
                        nombre +
                        " " +
                        apellidos +
                        "' ya estan registrados :(",
                    ];
                    cerrar_loader_datos(alerta);
                } else if (response == 3) {
                    alerta = [
                        "existe",
                        "warning",
                        "El numero de documento '" +
                        numero_documento +
                        "' ya esta registrados :(",
                    ];
                    cerrar_loader_datos(alerta);
                } else if (response == 20) {
                    alerta = [
                        "existe",
                        "warning",
                        "El correo ingresado '" + correo + "' no es valido :(",
                    ];
                    cerrar_loader_datos(alerta);
                }
            } else {
                alerta = [
                    "error",
                    "error",
                    "No se pudo crear el cliente - FALLO EN LA MATRIX:(",
                ];
                cerrar_loader_datos(alerta);
            }
        });
    }

    /// validacion
    function validar_registro_cliente(
        nombre,
        apellidos,
        direccion,
        telefonoo,
        correo,
        numero_documento,
        fecha
    ) {
        if (nombre.length == 0) {
            $("#nombre_obliga").html("Ingrese nombres");
        } else {
            $("#nombre_obliga").html("");
        }

        if (apellidos.length == 0) {
            $("#app_pat_obliga").html("Ingrese apellidos");
        } else {
            $("#app_pat_obliga").html("");
        }

        if (direccion.length == 0) {
            $("#direccion_obliga").html("Ingrese direccion");
        } else {
            $("#direccion_obliga").html("");
        }

        if (telefonoo.length == 0) {
            $("#telefono_obliga").html("Ingrese telefono");
        } else {
            $("#telefono_obliga").html("");
        }

        if (correo.length == 0) {
            $("#correo_obliga").html("Ingrese correo");
        } else {
            $("#correo_obliga").html("");
        }

        if (numero_documento.length == 0) {
            $("#numero_doc_obliga").html("Ingrese cedula");
        } else {
            $("#numero_doc_obliga").html("");
        }

        if (fecha.length == 0) {
            $("#fecha_obliga").html("Ingrese fecha");
        } else {
            $("#fecha_obliga").html("");
        }
    }

    //////////////////////////
    $("#correo_cliente").keyup(function() {
        if (this.value != "") {
            document.getElementById('correo_cliente').addEventListener('input', function() {
                campo = event.target;
                email = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;

                if (email.test(campo.value)) {

                    $(this).css("border", "1px solid green");
                    $("#email_correcto").html("");

                } else {
                    $(this).css("border", "1px solid red");
                    $("#email_correcto").html("Email incorrecto");

                }
            })
        } else {
            $(this).css("border", "1px solid green");
            $("#email_correcto").html("");
        }
    });

    $("#numero_documento").keyup(function() {
        if (this.value != "") {
            var cad = document.getElementById("numero_documento").value.trim();
            var total = 0;
            var longitud = cad.length;
            var longcheck = longitud - 1;

            if (cad != "") {
                if (cad !== "" && longitud === 10) {
                    for (i = 0; i < longcheck; i++) {
                        if (i % 2 === 0) {
                            var aux = cad.charAt(i) * 2;
                            if (aux > 9) aux -= 9;
                            total += aux;
                        } else {
                            total += parseInt(cad.charAt(i)); // parseInt o concatenará en lugar de sumar           
                        }
                    }
                    total = total % 10 ? 10 - total % 10 : 0;
                    if (cad.charAt(longitud - 1) == total) {
                        $(this).css("border", "1px solid green");
                        $("#cedula_cliente").html("");

                    } else {
                        document.getElementById("cedula_cliente").innerHTML = ("cedula Inválida");
                        $(this).css("border", "1px solid red");

                    }
                } else {
                    document.getElementById("cedula_cliente").innerHTML = ("La cedula no tiene 10 digitos");
                    $(this).css("border", "1px solid red");

                }
            } else {
                document.getElementById("cedula_cliente").innerHTML = ("Debe ingresra una cedula");
                $(this).css("border", "1px solid red");

            }
        } else {
            $(this).css("border", "1px solid green");
            $("#cedula_cliente").html("");
        }
    });

    /////////////////////////
    function mostar_loader_datos(alerta) {
        var texto = null;
        var mostrar = false;

        switch (alerta[0]) {
            case "datos":
                texto = alerta[1];
                mostrar = true;
                break;
        }
        if (mostrar) {
            Swal.fire({
                title: alerta[2],
                html: texto,
                allowOutsideClick: false,
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading();
                },
            });
        }
    }

    function cerrar_loader_datos(alerta) {
        var tipo = null;
        var texto = null;
        var mostrar = false;

        switch (alerta[0]) {
            case "exito":
                tipo = alerta[1];
                texto = alerta[2];
                mostrar = true;
                break;

            case "existe":
                tipo = alerta[1];
                texto = alerta[2];
                mostrar = true;
                break;

            case "error":
                tipo = alerta[1];
                texto = alerta[2];
                mostrar = true;
                break;

            default:
                swal.close();
                break;
        }
        if (mostrar) {
            Swal.fire({
                position: "center",
                icon: tipo,
                text: texto,
                showConfirmButton: true,
                allowOutsideClick: false,
            });
        }
    }

    ///////////////////////
    function soloLetras(e) {
        key = e.keyCode || e.which;
        tecla = String.fromCharCode(key).toLowerCase();
        letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
        especiales = "8-37-39-46";
        tecla_especial = false
        for (var i in especiales) {
            if (key == especiales[i]) {
                tecla_especial = true;
                break;
            }
        }
        if (letras.indexOf(tecla) == -1 && !tecla_especial) {
            return swal.fire(
                "No se permiten numeros!!",
                "Solo se permiten letras",
                "warning"
            );
        }
    }

    function soloNumeros(e) {
        var key = window.event ? e.which : e.keyCode;
        if (key < 48 || key > 57) {
            return swal.fire(
                "No se permiten letras!!",
                "Solo se permiten numeros",
                "warning"
            );
        }
    }
</script>